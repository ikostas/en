<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Installing LAMP -- am I dumb?</title>
		<meta name="description" content="Trying to recover information from my wiki">
		<link rel="alternate" href="feed/feed.xml" type="application/atom+xml" title="The Real Changes">
		<meta name="generator" content="Eleventy v3.0.0">
		
		<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700" rel="stylesheet" type="text/css">
		<style>/**
 * okaidia theme for JavaScript, CSS and HTML
 * Loosely based on Monokai textmate theme by http://www.monokai.nl/
 * @author ocodia
 */

code[class*="language-"],
pre[class*="language-"] {
	color: #f8f8f2;
	background: none;
	text-shadow: 0 1px rgba(0, 0, 0, 0.3);
	font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
	font-size: 1em;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	word-wrap: normal;
	line-height: 1.5;

	-moz-tab-size: 4;
	-o-tab-size: 4;
	tab-size: 4;

	-webkit-hyphens: none;
	-moz-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
	padding: 1em;
	margin: .5em 0;
	overflow: auto;
	border-radius: 0.3em;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
	background: #272822;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
	padding: .1em;
	border-radius: .3em;
	white-space: normal;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
	color: #8292a2;
}

.token.punctuation {
	color: #f8f8f2;
}

.token.namespace {
	opacity: .7;
}

.token.property,
.token.tag,
.token.constant,
.token.symbol,
.token.deleted {
	color: #f92672;
}

.token.boolean,
.token.number {
	color: #ae81ff;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
	color: #a6e22e;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string,
.token.variable {
	color: #f8f8f2;
}

.token.atrule,
.token.attr-value,
.token.function,
.token.class-name {
	color: #e6db74;
}

.token.keyword {
	color: #66d9ef;
}

.token.regex,
.token.important {
	color: #fd971f;
}

.token.important,
.token.bold {
	font-weight: bold;
}
.token.italic {
	font-style: italic;
}

.token.entity {
	cursor: help;
}
/*
 * New diff- syntax
 */

pre[class*="language-diff-"] {
	--eleventy-code-padding: 1.25em;
	padding-left: var(--eleventy-code-padding);
	padding-right: var(--eleventy-code-padding);
}
.token.deleted {
	background-color: hsl(0, 51%, 37%);
	color: inherit;
}
.token.inserted {
	background-color: hsl(126, 31%, 39%);
	color: inherit;
}

/* Make the + and - characters unselectable for copy/paste */
.token.prefix.unchanged,
.token.prefix.inserted,
.token.prefix.deleted {
	-webkit-user-select: none;
	user-select: none;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	padding-top: 2px;
	padding-bottom: 2px;
}
.token.prefix.inserted,
.token.prefix.deleted {
	width: var(--eleventy-code-padding);
	background-color: rgba(0,0,0,.2);
}

/* Optional: full-width background color */
.token.inserted:not(.prefix),
.token.deleted:not(.prefix) {
	display: block;
	margin-left: calc(-1 * var(--eleventy-code-padding));
	margin-right: calc(-1 * var(--eleventy-code-padding));
	text-decoration: none; /* override del, ins, mark defaults */
	color: inherit; /* override del, ins, mark defaults */
}
footer {
	text-align: center;
	font-size: 0.7em;
}
html {
  font-family: 'Open Sans', 'helvetica', sans-serif;
}
.postlist {
	list-style: none;
	padding: 0;
	padding-left: 1.5rem;
}
.postlist-item {
	display: block;
	flex-wrap: wrap;
	align-items: baseline;
	counter-increment: start-from -1;
	margin-bottom: 1em;
}
.postlist-item:before {
  display: inline-flex;
	pointer-events: none;
	content: "" counter(start-from, decimal-leading-zero) ". ";
	line-height: 100%;
	text-align: right;
	margin-left: -1.5rem;
}
.postlist-date,
.postlist-item:before {
	color: var(--color-gray-90);
}
.postlist-date {
	display: block;
	padding-top: 0.5em;
	word-spacing: -0.5px;
}
.postlist-description {
	display: block;
	padding-top: 0.5em;
}
.postlist-link {
	flex-basis: calc(100% - 1.5rem);
	padding-left: .25em;
	padding-right: .5em;
}
.postlist-item-active .postlist-link {
		font-weight: bold;
}

/* Tags */
.post-tag {
	display: inline-flex;
	align-items: center;
	justify-content: center;
}
.postlist-item > .post-tag {
		align-self: center;
}

/* Tags list */
.post-metadata {
	display: inline-flex;
	flex-wrap: wrap;
	gap: .5em;
	padding: 0;
	margin: 0;
}
.post-metadata-li {
	list-style: none;
}

.post-metadata time {
		margin-right: 1em;
}
.links-nextprev {
	display: flex;
	justify-content: space-between;
	gap: .5em 1em;
	padding: 1em 0;
}
.links-nextprev-next {
	text-align: right;
	list-style: none;
}
.links-nextprev-prev {
	text-align: left;
	list-style: none;
}</style>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css">
		<script src="https://kit.fontawesome.com/ee60bac4ec.js" crossorigin="anonymous"></script>
		<link href="/pagefind/pagefind-ui.css" rel="stylesheet">
		<script src="/pagefind/pagefind-ui.js"></script>
		 <style>
    svg {
      width: var(--font-size);
      height: var(--font-size);
      color: var(--contrast);
    }
    </style>
	</head>
	<body>
	<header class="container">
			<div id="search"></div>
			<script>
			window.addEventListener('DOMContentLoaded', (event) => {
				new PagefindUI({ element: "#search", showSubResults: true });
			});
			</script>
		<nav>
		<ul>
					<li><a href="/"><img loading="lazy" decoding="async" src="/.11ty/image/?src=content%2Fimg%2Ftrc-logo.png&width=100&format=png&via=transform" alt="TRC" width="100" height="100"></a> <strong><a href="/">The Real Changes</a></strong></li>
		</ul>
		<ul>
				<li><a href="/">Home</a></li>
				<li><a href="/blog/">Archive</a></li>
				<li><a href="/tags/">Tags</a></li>
				<li>| </li>
				<li><a href="https://twitter.com/Konstan21511383"><i class="fa-brands fa-twitter"></i></a></li>
				<li><a href="https://t.me/therealchanges"><i class="fa-brands fa-telegram"></i></a></li>
				<li><a href="https://www.linkedin.com/in/konstantinovchinnikov/"><i class="fa-brands fa-linkedin"></i></a></li>
				<li><a href="https://www.youtube.com/channel/UCSWV-jXlrnxIMbAD-82_USg"><i class="fa-brands fa-youtube"></i></a></li>
				<li><a href="https://github.com/ikostas/"><i class="fa-brands fa-github"></i></a></li>
				<li><a href="/feed/feed.xml"><i class="fa-solid fa-square-rss"></i></a></li>
				<li>| </li>
				<li><a href="#" color="black" id="theme_switcher"></a></li>
			</ul>
		</nav>
	</header>
	<main class="container">
			<heading-anchors data-pagefind-body="">
				
<h1 id="installing-lamp-am-i-dumb">Installing LAMP -- am I dumb?</h1>

<ul class="post-metadata">
	<li class="post-metadata-li"><time datetime="2023-06-10">10 June 2023</time></li>
	<li class="post-tag"><a href="/tags/linux/" class="post-tag">#linux</a></li>
</ul>

<h2 id="task">Task</h2>
<p>Here's the story: I had a <a href="https://tiki.org/">Tikiwiki</a>, installed on my web hosting. After some time I decided that it was an overkill, so I backed up the SQL database and the application and removed this wiki from hosting. Now the only hosting I use is GitHub Pages for static HTML pages. So, I decided to recover information from this wiki, what could be easier, right? LAMP (Linux + Apache + MySQL + PHP) was the most popular use case for Linux a while ago. I have Ubuntu 23.04, it's the most popular distribution, so what could go wrong? Well, here adventures begin.</p>
<h2 id="all-went-wrong">All went wrong</h2>
<p>So, the first idea was to install Apache, PHP, and MariaDB locally and just restore everything. It's not so clean method, because you install lots of packages and services to your system and if you don't need them, you have to clean up. But let's go for it. Well, Tikiwiki doesn't support PHP 8, which is shipped with Ubuntu. But you can install PHP 7.4 on Ubuntu, right? Well, you have to <a href="https://linux.how2shout.com/how-to-install-php-7-4-on-ubuntu-22-04-lts-jammy-linux/">add an external repository</a> and now only Ubuntu 22.04 is supported. I googled it, but I didn't find a solution. And I'm not going to change the distribution because of this task.</p>
<p>OK, what else can we do? We have Docker, right? We even have <a href="https://github.com/sprintcube/docker-compose-lamp">a LAMP stack for Docker</a>, that's great! Apache worked, I could connect to the MariaDB server and restore the database. The issue with Docker is that you need to use TCP for database connection, not Unix sockets. Tikiwiki couldn't connect to the database, I tried to change the server name to 127.0.0.1, but it didn't help. The new installation of Tikiwiki couldn't connect to the database server as well.</p>
<p>OK, but we can have a virtual machine with any distribution and install everything there! That's right, you can choose VirtualBox or Gnome Boxes (which use KVM and QEMU), for example. The trick here was that I couldn't install VirtualBox â€“ again, because Ubuntu 23.04 wasn't supported by VirtualBox. Gnome Boxes worked fine, but I thought of a simpler solution. By the way, I didn't find any easy way or receipt to fix the resolution in Gnome Boxes.</p>
<h2 id="solution">Solution</h2>
<p>Ok, I just need to extract some articles, which are stored in some format in the database. So, I restored the database and dumped these articles into one file using SQL query. Then I converted these articles from Markdown to <a href="https://orgmode.org/">org</a> using <a href="https://pandoc.org/">Pandoc</a>, and now I have a single org file, that's it. Note: I thought at first that it was Markdown and used Pandoc converter from markdown, but TikiWiki has it's own syntax, which is also supported by Pandoc.</p>
<h2 id="conclusions">Conclusions</h2>
<p>In this case, I have lots of questions:</p>
<ol>
<li>If PHP is still alive, then how do people develop using it? If you are a PHP developer, you have some apps which require PHP 7.4. Does no one of these developers use Ubuntu 23.04? Do all of them use pre-built Docker containers with their apps?</li>
<li>Tikiwiki has issues with docker containers, so does no one of its developers use Docker?</li>
<li>Why is PHP 7.4 considered outdated in Ubuntu, if it's still used on all the hostings by default? Which makes people use some strange external repository to install PHP 7.4.</li>
<li>Does no one use VirtualBox on Ubuntu 23.04?</li>
<li>Is everyone fine working with a small screen size in Gnome Boxes?</li>
</ol>
<p>For me, it's at least strange, you know. :)</p>

<ul class="links-nextprev"><li class="links-nextprev-prev"><i class="fa-solid fa-arrow-left"></i> Previous<br> <a href="/2023-05-choosingabike.html">Choosing a bike, looking for underdogs</a></li><li class="links-nextprev-next">Next <i class="fa-solid fa-arrow-right"></i><br><a href="/2023-07-covid.html">Several ideas on global disasters</a></li>
</ul>

			</heading-anchors>
	</main>

		<footer>
			<p>Built with <a href="https://www.11ty.dev/">Eleventy v3.0.0</a>, <a href="https://pagefind.app/">Pagefind</a>, <a href="https://picocss.com/">PicoCSS</a> and <a href="https://fontawesome.com/">Font Awesome</a></p>
		</footer>
		<!-- This page `/2023-06-lamp.html` was built on 2024-11-11T20:56:56.054Z -->
		<script type="module" src="/dist/rJ3_G-2ArF.js"></script>
		<script type="module" src="/dist/rJ3_G-2ArF.js"></script>
<script>
    const html = document.documentElement;
    const switchTheme = document.getElementById('theme_switcher');
    const sun = '<i class="fa-regular fa-sun"></i>';
    const moon = '<i class="fa-solid fa-moon"></i>';

    // Load the theme from localStorage or set to light by default
    let isLight = localStorage.getItem('theme') === 'light';

    document.addEventListener('DOMContentLoaded', () => {
        // Set initial theme
        html.setAttribute('data-theme', isLight ? 'light' : 'dark');
        switchTheme.innerHTML = isLight ? sun : moon;
        removeTooltip(3000);
    });

    switchTheme.addEventListener('click', (e) => {
        e.preventDefault();
        isLight = !isLight;
        html.setAttribute('data-theme', isLight ? 'light' : 'dark');
        switchTheme.innerHTML = isLight ? sun : moon;

        // Save the current theme to localStorage
        localStorage.setItem('theme', isLight ? 'light' : 'dark');

        removeTooltip();
    });

    const removeTooltip = (timeInt = 1750) => {
        setTimeout(() => {
        switchTheme.blur();
        }, timeInt);
    }
</script>
	</body>
</html>
